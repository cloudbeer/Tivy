!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Tivy=t()}}(function(){return function t(e,i,s){function h(n,o){if(!i[n]){if(!e[n]){var a="function"==typeof require&&require;if(!o&&a)return a(n,!0);if(r)return r(n,!0);var d=new Error("Cannot find module '"+n+"'");throw d.code="MODULE_NOT_FOUND",d}var l=i[n]={exports:{}};e[n][0].call(l.exports,function(t){var i=e[n][1][t];return h(i?i:t)},l,l.exports,t,e,i,s)}return i[n].exports}for(var r="function"==typeof require&&require,n=0;n<s.length;n++)h(s[n]);return h}({1:[function(t,e,i){var s=function(t){if(t||(t={}),this.id=t.id||"stage_"+1*new Date,this.position=t.position||{x:0,y:0},this.size=t.size||{w:1920,h:1080},this.background=t.background,this.zIndex=t.zIndex||0,document.getElementById(this.id))throw new Error("Stage id is dumplicate");var e=document.createElement("canvas");e.id=this.id,e.style.position="absolute",e.style.top=this.position.y,e.style.left=this.position.x,e.style.zIndex=this.zIndex,e.style.background=this.background,document.body.appendChild(e);var i=new PIXI.Container;i.width=this.size.w,i.height=this.size.h,this.render=new PIXI.WebGLRenderer(this.size.w,this.size.h,{transparent:!0,view:e,forceFXAA:!0}),i.id=this.id,i.isStage=!0,this._stage=i};s.prototype={show:function(){this.renderable=!0,this.repaint()},hide:function(){this.renderable=!1,this.repaint()},repaint:function(t){t?this.render.render(t):this.render.render(this._stage)},addChild:function(t){this._stage.addChild(t)}},e.exports=s},{}],2:[function(t,e,i){function s(t){if(PIXI.Container.call(this),t||(t={}),this.stage=t.stage,!this.stage)throw new Error("A stage is required.");this.stage.addChild(this)}s.prototype=Object.create(PIXI.Container.prototype),s.prototype.constructor=s,e.exports=s},{}],3:[function(t,e,i){function s(t){if(h.call(this,t),t||(t={}),this.placeHolderTexture=t.placeHolderTexture,!this.placeHolderTexture)throw new Error("placeHolderTexture is null");this.size=t.size||{w:300,h:400},this.position=t.position||{x:0,y:0},this.textColor=t.textColor||8355711,this.textBgColor=t.textBgColor||16777215,this.textHeight=t.textHeight||50,this.font=t.font||"25px 迷你简准圆",this.text=t.text,this.imageUrl=t.imageUrl,this.isWithText=t.isWithText||!1,this.radius=t.radius||15,this.width=this.size.w,this.height=this.size.h,this.posterTexture=null,this.imageSprite=null,this.textLabel=null,this.imageSetted=!1,this._paint()}var h =t("../UIObject");s.prototype =Object.create(h.prototype),s.prototype.constructor =s,e.exports =s,s.prototype._paint =function(){if(this.radius){var t =new PIXI.Graphics;t.lineStyle(0),t.beginFill(16777215),t.drawRoundedRect(0,0,this.size.w,this.size.h,this.radius),t.endFill(),this.addChild(t),this.mask =t}var e =new PIXI.Graphics;e.lineStyle(0),e.beginFill(this.textBgColor,.5),this.isWithText&&this.text?(e.drawRect(0,0,this.size.w,this.size.h-this.textHeight),e.beginFill(this.textBgColor,.7),e.drawRect(0,this.size.h-50,this.size.w,this.textHeight),this.textLabel =new PIXI.Text(this.text,{font:this.font,fill:this.textColor}),this.textLabel.y=this.size.h-this.textHeight+(this.textHeight-this.textLabel.height)/2,this.textLabel.width>this.size.w?this.textLabel.x=10:this.textLabel.x=(this.size.w-this.textLabel.width)/2,e.addChild(this.textLabel)):e.drawRect(0,0,this.size.w,this.size.h),e.endFill(),this.addChild(e),this.imageSprite=new PIXI.Sprite(this.placeHolderTexture),this.imageSprite.width=this.size.w,this.imageSprite.height=this.isWithText?this.size.h-this.textHeight:this.size.h,this.imageUrl&&this.setContent(this.imageUrl),this.addChild(this.imageSprite),this.stage.repaint()},s.prototype.setContent=function(t,e){if(t){t=t+"?t="+1*new Date,this.posterTexture=PIXI.Texture.fromImage(t),this.imageSprite.texture=this.posterTexture;var i=this.stage;this.posterTexture.baseTexture.on("loaded",function(){i.repaint()})}this.isWithText&&e&&(this.textLabel.text=e,this.textLabel.width>this.size.w?this.textLabel.x=10:this.textLabel.x=(this.size.w-this.textLabel.width)/2),this.text=e,this.posterSetted=!0}},{"../UIObject":2}],4:[function(t,e,i){(function(i){var s=e.exports={Stage:t("./Stage"),Poster:t("./components/Poster")};i.Tivy=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Stage":1,"./components/Poster":3}]},{},[4])(4)});
//# sourceMappingURL=tivy.min.js.map
